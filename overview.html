---
layout: default
title: Kyoto Water System Overview
---

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<style>
    /* ç”»é¢å…¨ä½“ã‚’ä½¿ã£ãŸãƒ€ã‚¤ãƒŠãƒŸãƒƒã‚¯ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ */
    .overview-container {
        position: relative;
        width: 100%;
        height: 85vh; /* ç”»é¢ã®85%ã‚’ä½¿ã† */
        background: #f4f4f4;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    #overview-map { width: 100%; height: 100%; }

    /* ã‚¿ã‚¤ãƒˆãƒ«ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ */
    .map-title-overlay {
        position: absolute;
        top: 20px;
        left: 20px;
        z-index: 1000;
        background: rgba(255, 255, 255, 0.9);
        padding: 15px 25px;
        border-radius: 4px;
        border-left: 5px solid #00608d;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    .map-title-overlay h1 {
        margin: 0;
        font-size: 24px;
        font-family: 'Shippori Mincho', serif;
        color: #333;
    }
    .map-title-overlay p {
        margin: 5px 0 0 0;
        font-size: 14px;
        color: #666;
    }

    /* åœ°å›³ä¸Šã®ãƒ†ã‚­ã‚¹ãƒˆãƒ©ãƒ™ãƒ«ï¼ˆå±±ã‚„ã‚¨ãƒªã‚¢åï¼‰ */
    .map-label {
        font-family: 'Shippori Mincho', serif;
        font-weight: bold;
        color: #555;
        text-shadow: 2px 2px 0px #fff, -2px -2px 0px #fff, 2px -2px 0px #fff, -2px 2px 0px #fff;
        font-size: 14px;
        white-space: nowrap;
    }
    .label-large { font-size: 18px; color: #2c3e50; }
    .label-water { color: #00608d; font-size: 16px; }

    /* ã€Œè©³ç´°ãƒãƒƒãƒ—ã¸ã€ãƒœã‚¿ãƒ³ */
    .go-to-detail {
        position: absolute;
        bottom: 30px;
        right: 30px;
        z-index: 1000;
        background: #00608d;
        color: #fff;
        padding: 15px 30px;
        border-radius: 50px;
        text-decoration: none;
        font-weight: bold;
        box-shadow: 0 4px 15px rgba(0, 96, 141, 0.4);
        transition: transform 0.2s;
    }
    .go-to-detail:hover {
        transform: translateY(-2px);
        background: #004d70;
        color: #fff;
    }
</style>

<div class="overview-container">
    <div id="overview-map"></div>
    
    <div class="map-title-overlay">
        <h1>äº¬éƒ½æ°´ç³»ãƒ»æ¦‚è¦³å›³</h1>
        <p>ä¸‰æ–¹ã‚’å±±ã«å›²ã¾ã‚ŒãŸã€Œå¤©ç„¶ã®æ°´ç“¶ã€ã€‚<br>åŒ—ã‹ã‚‰å—ã¸ã€åœ°ä¸‹ã¨åœ°ä¸Šã‚’æ°´ãŒå·¡ã‚‹ã€‚</p>
    </div>

    <a href="/iki-mono/map.html" class="go-to-detail">
        ğŸ“ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒ¯ãƒ¼ã‚¯åœ°å›³ã‚’è¦‹ã‚‹
    </a>
</div>

<script>
    // 1. åœ°å›³è¨­å®šï¼ˆå°‘ã—ã‚ºãƒ¼ãƒ ã‚’å¼•ã„ã¦å…¨ä½“ã‚’è¦‹ã‚‹ï¼‰
    var map = L.map('overview-map', {
        zoomControl: false // ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã‚’ã‚·ãƒ³ãƒ—ãƒ«ã«
    }).setView([35.03, 135.76], 12);

    // 2. â˜…å›½åœŸåœ°ç†é™¢ã€Œæ·¡è‰²åœ°å›³ã€ã‚’ä½¿ç”¨
    // ã“ã‚ŒãŒã€Œåœ°å½¢ã€ã¨ã€Œæ°´ã€ã‚’ä¸€ç•ªç¾ã—ãè¦‹ã›ã¾ã™
    L.tileLayer('https://cyberjapandata.gsi.go.jp/xyz/pale/{z}/{x}/{y}.png', {
        attribution: '<a href="https://maps.gsi.go.jp/development/ichiran.html" target="_blank">å›½åœŸåœ°ç†é™¢</a>',
        maxZoom: 18
    }).addTo(map);

    // 3. æ°´ã®æµã‚Œï¼ˆãƒ©ã‚¤ãƒ³æç”»ï¼‰
    // é´¨å·ã®ãƒ¡ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³
    var kamoRiver = [
        [35.08, 135.73], // ä¸Šæµï¼ˆã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰
        [35.05, 135.75],
        [35.029, 135.772], // ãƒ‡ãƒ«ã‚¿
        [35.00, 135.768],  // å››æ¡ã‚ãŸã‚Š
        [34.95, 135.75]    // ä¼è¦‹æ–¹é¢
    ];
    // é«˜é‡å·
    var takanoRiver = [
        [35.08, 135.80], // å¤§åŸæ–¹é¢
        [35.029, 135.772] // ãƒ‡ãƒ«ã‚¿
    ];

    // ãƒ©ã‚¤ãƒ³ã‚’æç”»
    L.polyline(kamoRiver, { color: '#00a8cc', weight: 8, opacity: 0.6, lineCap: 'round' }).addTo(map);
    L.polyline(takanoRiver, { color: '#00a8cc', weight: 6, opacity: 0.6, lineCap: 'round' }).addTo(map);


    // 4. åœ°å›³ä¸Šã®ãƒ©ãƒ™ãƒ«é…ç½®ï¼ˆdivIconã‚’ä½¿ç”¨ï¼‰
    function addLabel(lat, lng, text, className) {
        var myIcon = L.divIcon({
            className: 'map-label ' + className,
            html: text,
            iconSize: [100, 20],
            iconAnchor: [50, 10] // ä¸­å¤®å¯„ã›
        });
        L.marker([lat, lng], { icon: myIcon }).addTo(map);
    }

    // å±±ã€…ï¼ˆæ°´æºï¼‰
    addLabel(35.07, 135.73, "ã€åŒ—å±±ã‚¨ãƒªã‚¢ã€‘<br>æ°´æºã®æ£®", "label-large");
    addLabel(35.06, 135.81, "ã€æ¯”å¡å±±ãƒ»å¤§åŸã€‘", "label-large");
    addLabel(35.00, 135.80, "ã€æ±å±±é€£å³°ã€‘", "");
    addLabel(35.00, 135.68, "ã€è¥¿å±±é€£å³°ã€‘", "");

    // æ°´ã®ãƒã‚¤ãƒ³ãƒˆ
    addLabel(35.033, 135.775, "â–¼ é´¨å·ãƒ‡ãƒ«ã‚¿<br>(åˆæµç‚¹)", "label-water");
    addLabel(35.016, 135.765, "â–¼ äº¬éƒ½å¾¡è‹‘<br>(åœ°ä¸‹æ°´è„ˆ)", "label-water");
    addLabel(34.93, 135.76, "â–¼ ä¼è¦‹ã‚¨ãƒªã‚¢<br>(æ¹§ãæ°´ãƒ»é…’è”µ)", "label-water");

    // 5. å·¨å¤§ãªã€Œç›†åœ°ã€ã‚µãƒ¼ã‚¯ãƒ«ï¼ˆã†ã£ã™ã‚‰è¡¨ç¤ºï¼‰
    L.circle([35.01, 135.76], {
        color: '#888',
        fillColor: '#f03',
        fillOpacity: 0.05,
        radius: 6000,
        weight: 1,
        dashArray: '10, 10'
    }).addTo(map);

</script>
```

### æ¬¡ã«ã‚„ã‚‹ã“ã¨
1.  ã“ã® `overview.html` ã‚’ä¿å­˜ã—ã¦ Push ã—ã¦ãã ã•ã„ã€‚
2.  `_layouts/default.html` ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼ˆ`<nav>`ï¼‰ã«ãƒªãƒ³ã‚¯ã‚’è¿½åŠ ã—ã¾ã™ã€‚

```html
<nav>
    <a href="/iki-mono/overview.html">Overview</a> <!-- ã“ã‚Œã‚’è¿½åŠ  -->
    <a href="/iki-mono/map.html">Detail Map</a>
    <a href="/iki-mono/journeys/fukumoto/">Fukumoto Lab</a>
    <a href="/iki-mono/journeys/nakahigashi/">Nakahigashi Lab</a>
</nav>
