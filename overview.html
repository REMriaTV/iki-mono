---
layout: default
title: Kyoto Water System Overview
---

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<style>
    /* ç”»é¢å…¨ä½“ã‚’ä½¿ã£ãŸãƒ€ã‚¤ãƒŠãƒŸãƒƒã‚¯ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ */
    .overview-container {
        position: relative;
        width: 100%;
        height: 85vh; 
        background: #f4f4f4;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    #overview-map { width: 100%; height: 100%; }

    /* ã‚¿ã‚¤ãƒˆãƒ«ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ */
    .map-title-overlay {
        position: absolute;
        top: 20px;
        left: 20px;
        z-index: 1000;
        background: rgba(255, 255, 255, 0.9);
        padding: 15px 25px;
        border-radius: 4px;
        border-left: 5px solid #00608d;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    .map-title-overlay h1 {
        margin: 0;
        font-size: 24px;
        font-family: 'Shippori Mincho', serif;
        color: #333;
    }
    .map-title-overlay p {
        margin: 5px 0 0 0;
        font-size: 14px;
        color: #666;
    }

    /* åœ°å›³ä¸Šã®ãƒ†ã‚­ã‚¹ãƒˆãƒ©ãƒ™ãƒ« */
    .map-label {
        font-family: 'Shippori Mincho', serif;
        font-weight: bold;
        color: #555;
        text-shadow: 2px 2px 0px #fff, -2px -2px 0px #fff, 2px -2px 0px #fff, -2px 2px 0px #fff;
        font-size: 14px;
        white-space: nowrap;
    }
    .label-large { font-size: 18px; color: #2c3e50; }
    .label-water { color: #00608d; font-size: 16px; }

    /* ã€Œè©³ç´°ãƒãƒƒãƒ—ã¸ã€ãƒœã‚¿ãƒ³ */
    .go-to-detail {
        position: absolute;
        bottom: 30px;
        right: 30px;
        z-index: 1000;
        background: #00608d;
        color: #fff;
        padding: 15px 30px;
        border-radius: 50px;
        text-decoration: none;
        font-weight: bold;
        box-shadow: 0 4px 15px rgba(0, 96, 141, 0.4);
        transition: transform 0.2s;
    }
    .go-to-detail:hover {
        transform: translateY(-2px);
        background: #004d70;
        color: #fff;
    }
</style>

<div class="overview-container">
    <div id="overview-map"></div>
    
    <div class="map-title-overlay">
        <h1>äº¬éƒ½æ°´ç³»ãƒ»æ¦‚è¦³å›³</h1>
        <p>ä¸‰æ–¹ã‚’å±±ã«å›²ã¾ã‚ŒãŸã€Œå¤©ç„¶ã®æ°´ç“¶ã€ã€‚<br>åŒ—ã‹ã‚‰å—ã¸ã€åœ°ä¸‹ã¨åœ°ä¸Šã‚’æ°´ãŒå·¡ã‚‹ã€‚</p>
    </div>

    <a href="/iki-mono/map.html" class="go-to-detail">
        ğŸ“ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒ¯ãƒ¼ã‚¯åœ°å›³ã‚’è¦‹ã‚‹
    </a>
</div>

<script>
    // 1. åœ°å›³è¨­å®šï¼ˆå…¨ä½“ãŒè¦‹ãˆã‚‹ã‚ˆã†ã«ã‚ºãƒ¼ãƒ èª¿æ•´ï¼‰
    var map = L.map('overview-map', {
        zoomControl: false 
    }).setView([35.03, 135.76], 12);

    // 2. å›½åœŸåœ°ç†é™¢ã€Œæ·¡è‰²åœ°å›³ã€
    L.tileLayer('https://cyberjapandata.gsi.go.jp/xyz/pale/{z}/{x}/{y}.png', {
        attribution: '<a href="https://maps.gsi.go.jp/development/ichiran.html" target="_blank">å›½åœŸåœ°ç†é™¢</a>',
        maxZoom: 18
    }).addTo(map);

    // 3. æ°´ã®æµã‚Œï¼ˆã‚ˆã‚Šãƒªã‚¢ãƒ«ãªæ›²ç·šãƒ‡ãƒ¼ã‚¿ï¼‰
    
    // â–  è³€èŒ‚å·ï¼ˆè¥¿ãƒ»å·¦å´ï¼‰: é›²ãƒ¶ç•‘æ–¹é¢ã‹ã‚‰
    var kamoRiverUpper = [
        [35.12, 135.72], // é›²ãƒ¶ç•‘ï¼ˆã‚‚ã£ã¨åŒ—ï¼‰
        [35.09, 135.73], // æŸŠé‡ãƒ€ãƒ ä»˜è¿‘
        [35.075, 135.74], // ä¸Šè³€èŒ‚ç¥ç¤¾ä»˜è¿‘
        [35.055, 135.755], // åŒ—å±±å¤§æ©‹
        [35.045, 135.76],  // åŒ—å¤§è·¯
        [35.030, 135.772]  // ãƒ‡ãƒ«ã‚¿åˆæµç‚¹
    ];

    // â–  é«˜é‡å·ï¼ˆæ±ãƒ»å³å´ï¼‰: å¤§åŸæ–¹é¢ã‹ã‚‰
    var takanoRiver = [
        [35.11, 135.82], // å¤§åŸãƒ»ä¸‰åƒé™¢ã®è¥¿å´
        [35.08, 135.80], // å…«ç€¬
        [35.06, 135.79], // ä¿®å­¦é™¢
        [35.045, 135.78], // æ¾ãƒ¶å´
        [35.030, 135.772] // ãƒ‡ãƒ«ã‚¿åˆæµç‚¹
    ];

    // â–  é´¨å·æœ¬æµ: åˆæµå¾Œã€å—ã¸
    var kamoRiverMain = [
        [35.030, 135.772], // ãƒ‡ãƒ«ã‚¿
        [35.016, 135.770], // ä¸¸å¤ªç”º
        [35.004, 135.769], // å››æ¡
        [34.985, 135.765], // ä¸ƒæ¡
        [34.960, 135.755], // ãã„ãªæ©‹
        [34.930, 135.750]  // ä¼è¦‹ãƒ»æ¡‚å·åˆæµæ–¹é¢
    ];

    // ãƒ©ã‚¤ãƒ³ã‚’æç”»ï¼ˆæ»‘ã‚‰ã‹ãªæ¥ç¶šï¼‰
    var riverStyle = { color: '#00a8cc', weight: 6, opacity: 0.7, lineCap: 'round', lineJoin: 'round' };
    
    L.polyline(kamoRiverUpper, riverStyle).addTo(map);
    L.polyline(takanoRiver, riverStyle).addTo(map);
    L.polyline(kamoRiverMain, { ...riverStyle, weight: 8 }).addTo(map); // æœ¬æµã¯å°‘ã—å¤ªã


    // 4. åœ°å›³ä¸Šã®ãƒ©ãƒ™ãƒ«é…ç½®
    function addLabel(lat, lng, text, className) {
        var myIcon = L.divIcon({
            className: 'map-label ' + className,
            html: text,
            iconSize: [120, 20],
            iconAnchor: [60, 10] 
        });
        L.marker([lat, lng], { icon: myIcon }).addTo(map);
    }

    // å±±ã€…ï¼ˆæ°´æºã‚¨ãƒªã‚¢ã‚’åŒ—ã¸ä¿®æ­£ï¼‰
    addLabel(35.125, 135.72, "ã€é›²ãƒ¶ç•‘ãƒ»æ¡Ÿæ•·ãƒ¶å²³ã€‘<br>è³€èŒ‚å·ã®æ°´æº", "label-large");
    addLabel(35.115, 135.82, "ã€å¤§åŸãƒ»é€”ä¸­å³ ã€‘<br>é«˜é‡å·ã®æ°´æº", "label-large");
    
    // å·ã®åå‰ã‚’æ˜è¨˜
    addLabel(35.06, 135.735, "è³€èŒ‚å·", "label-water");
    addLabel(35.06, 135.805, "é«˜é‡å·", "label-water");

    // ãƒã‚¤ãƒ³ãƒˆ
    addLabel(35.033, 135.775, "â–¼ é´¨å·ãƒ‡ãƒ«ã‚¿<br>(åˆæµç‚¹)", "label-water");
    addLabel(35.016, 135.765, "â–¼ äº¬éƒ½å¾¡è‹‘<br>(åœ°ä¸‹æ°´è„ˆ)", "label-water");
    addLabel(34.94, 135.76, "â–¼ ä¼è¦‹ã‚¨ãƒªã‚¢", "label-water");

    // 5. ç›†åœ°ã‚µãƒ¼ã‚¯ãƒ«
    L.circle([35.01, 135.76], {
        color: '#888',
        fillColor: '#00608d', // æ°´è‰²ã£ã½ãå¤‰æ›´
        fillOpacity: 0.03,
        radius: 7000,
        weight: 1,
        dashArray: '10, 10'
    }).addTo(map);

</script>
